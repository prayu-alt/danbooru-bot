"use strict";var __importStar=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var e in t)Object.hasOwnProperty.call(t,e)&&(r[e]=t[e]);return r.default=t,r};Object.defineProperty(exports,"__esModule",{value:!0});const Utils=__importStar(require("../Utils"));class SearchResults extends Array{constructor(t,r,e,s){super(t.length);for(let r=0;r<t.length;r++)this[r]=t[r];this.posts=t,this.tags=r,this.options=e,this.booru=s,this.page=e&&e.page||0}get first(){return this[0]}get last(){return this[this.length-1]}nextPage(){const t=this.options;return t.page=this.page+1,this.booru.search(this.tags,t)}tagged(t,{invert:r=!1}={}){Array.isArray(t)||(t=[t]);const e=[];for(const s of this){const o=Utils.compareArrays(t,s.tags).length;(!r&&o>0||r&&0===o)&&e.push(s)}return new SearchResults(e,this.tags,this.options,this.booru)}blacklist(t){return this.tagged(t,{invert:!0})}}const prototypeKeys=Reflect.ownKeys(Array.prototype).filter(t=>"string"==typeof t&&"constructor"!==t);for(const t of prototypeKeys)if("function"==typeof Array.prototype[t]){const r=function(...r){return this.posts[t](...r)};Object.defineProperty(SearchResults.prototype,t,{value:r})}exports.default=SearchResults;